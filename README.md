
# Лабораторная работа №2. Введение в AWS. Вычислительные сервисы


# **1. Описание лабораторной работы**

Цель работы — познакомиться с основами управления облачной инфраструктурой AWS, включая создание пользователей и политик, настройку бюджетов, запуск виртуальных машин (EC2), развёртывание веб-приложений и безопасное подключение по SSH.

---

# Постановка задачи

Необходимо выполнить следующие действия:

1. Создать IAM-группу и IAM-пользователя.
2. Настроить Zero-Spend Budget для контроля расходов.
3. Развернуть и настроить виртуальную машину EC2.
4. Запустить веб-сервер Nginx и разместить статический сайт.
5. Подключиться к виртуальной машине по SSH.
6. Развернуть сайт на PHP.
7. Остановить EC2 через AWS CLI и объяснить разницу между Stop и Terminate.

# Цель и основные этапы работы

**Цель:** получить первичные навыки работы с AWS и научиться разворачивать веб-приложение в облаке.

**Основные этапы:**

1. Работа с IAM.
2. Настройка бюджета для предотвращения расходов.
3. Развёртывание EC2.
4. Установка ПО через User Data.
5. Подключение по SSH.
6. Загрузка сайта и настройка PHP.
7. Остановка EC2.

---

# **2. Практическая часть**
## 2.1. Задание 0 — Создание AWS аккаунта и выбор региона

1. Я перешла на официальный сайт aws.amazon.com и нажала кнопку “Create an AWS Account”.
2. Я выбрала Personal account, после чего заполнила контактные данные и подтвердила свою электронную почту и номер телефона. Также я указала банковскую карту для активации Free Tier — система списала небольшую сумму для проверки, и позже она была возвращена.
<img width="461" height="744" alt="Image" src="https://github.com/user-attachments/assets/e567703e-6136-4f3b-bb2d-ea9165959907" />
3. После завершения регистрации я вошла в консоль AWS под root-пользователем. Это требуется только на этапе подготовки аккаунта.
4. Далее я вручную выбрала рабочий регион AWS — EU (Frankfurt) / eu-central-1, который используется в учебных материалах и полностью поддерживает Free Tier.
<img width="597" height="1272" alt="Image" src="https://github.com/user-attachments/assets/dcf82a2e-a3d9-4c76-94c6-ecf03c054df1" />
5. После входа я убедилась, что консоль загружается корректно и регион выбран правильно. На этом подготовка среды была завершена.


---

## 2.2. Задание 1 — Создание IAM-группы и пользователя

1. Открыла сервис IAM.
2. Создала группу **Admins**. <img width="1546" height="127" alt="Image" src="https://github.com/user-attachments/assets/b5961d83-9151-4b81-8971-48b4b547609a" />
3. Привязала политику **AdministratorAccess**. <img width="1537" height="301" alt="Image" src="https://github.com/user-attachments/assets/297988f3-9096-4c7c-b66c-2b439a365580" />
**Ответ: Что делает политика AdministratorAccess?**
Даёт полный доступ ко всем сервисам AWS.
4. Создала IAM-пользователя **cloudstudent**, разрешила вход в консоль. <img width="1553" height="107" alt="Image" src="https://github.com/user-attachments/assets/1db645d3-ec22-4efb-bbad-a2730c0d446c" />
5. Вышла из root-аккаунта и вошла под IAM-пользователем.
---

## **2.3. Задание 2 — Создание Zero Spend Budget**

1. Открыла Billing → Budgets.
2. Выбрала тип **Zero-spend budget**.
3. Настроила email-уведомления.
4. Создала бюджет.

<img width="1564" height="709" alt="Image" src="https://github.com/user-attachments/assets/519ea0f5-4ec6-45d9-a5a6-4a9eac715f57" />

---

## **2.4. Задание 3 — Создание и запуск EC2 инстанса**

1. В разделе **Instances → Launch instances** начато создание новой виртуальной машины.

Были выбраны параметры:

- **Name:** `webserver`
- **AMI:** Amazon Linux 2023 AMI  
- **Instance type:** `t3.micro` (Free Tier) <img width="512" height="434" alt="Image" src="https://github.com/user-attachments/assets/47709d03-626a-406a-9d84-a7f61b2c4536" />
- **Key pair:** создан новый ключ  
  - название: `marina-keypair`
  - тип: RSA  
  - формат: `.pem`
 <img width="642" height="45" alt="Image" src="https://github.com/user-attachments/assets/7d31b6af-ae7b-4da0-87e2-47cd8836977a" />

 2. Создала security group:

   * SSH: My IP
   * HTTP: 0.0.0.0/0

3. Вставила User Data:

```
#!/bin/bash
dnf -y update
dnf -y install htop
dnf -y install nginx
systemctl enable nginx
systemctl start nginx
```

**Вопрос: зачем User Data?**
Ответ : User Data позволяет выполнять команды автоматически при первом запуске виртуальной машины (применяется для автоматизации настройки).

**Вопрос: зачем nginx?**
Ответ :Это веб-сервер, который обслуживает HTTP-запросы.
---

## **4.5. Задание 4 — Логирование и мониторинг**

Открыла вкладки:

* Status checks: оба Passed (2/2).
* Monitoring: просмотр метрик CloudWatch.
* System Log: увидела строки установки nginx.
* Instance Screenshot: загрузочный лог ОС.

**Ответ: когда нужен detailed monitoring?**
Когда важно получать метрики каждую минуту: высокие нагрузки, продакшн, диагностика задержек.

**Скрин:** Status checks, Monitoring, System Log, Screenshot.

---

## **4.6. Задание 5 — Подключение по SSH**

### На локальной машине:

```
ssh -i marina-keypair.pem ec2-user@<IP>
```

Убедилась, что подключение успешно.

**Проверка nginx:**

```
systemctl status nginx
```

**Ответ: почему нельзя использовать пароль для SSH в AWS?**
Пароль легко перебрать.
SSH-ключи намного безопаснее и сложнее взломать.

**Скрин:** успешное подключение.

---

## **4.7. Задание 6a — Развёртывание статического сайта**

1. Создала файлы:

* index.html
* about.html
* contact.html

2. Скопировала на сервер:

```
scp -i marina-keypair.pem index.html ec2-user@IP:/tmp
scp -i marina-keypair.pem about.html ec2-user@IP:/tmp
scp -i marina-keypair.pem contact.html ec2-user@IP:/tmp
```

3. На сервере переместила:

```
sudo cp /tmp/*.html /usr/share/nginx/html/
```

4. Проверила в браузере:

```
http://IP
```

**Скрин:** твой сайт работает.

---

## **4.8. Задание 6b — Развёртывание сайта на PHP**

1. Создала структуру php-site с файлами:

* index.php
* about.php
* contact.php

2. Скопировала:

```
scp -i marina-keypair.pem -r php-site/* ec2-user@IP:/tmp
```

3. На сервере:

```
sudo cp /tmp/*.php /usr/share/nginx/html/
```

4. Установила PHP:

```
sudo dnf -y install php php-fpm
sudo systemctl enable php-fpm
sudo systemctl start php-fpm
```

5. Создала конфиг mywebsite.conf и загрузила в:

```
/etc/nginx/conf.d/
```

6. Проверила:

```
sudo nginx -t
sudo systemctl restart nginx
```

7. Открыла сайт:

```
http://IP/index.php
```

**Скрин:** твоя PHP-страница работает.

---

# **4.9. Задание 7 — Остановка EC2 через CLI**

### Подключилась в AWS CloudShell

Выполнила команду:

```
aws ec2 stop-instances --instance-ids i-03ee2abb6e102d247
```

### Ответ: чем Stop отличается от Terminate?

| Stop                             | Terminate                     |
| -------------------------------- | ----------------------------- |
| Инстанс останавливается          | Инстанс удаляется навсегда    |
| Можно запустить снова            | Запустить снова невозможно    |
| Диск EBS сохраняется             | Диск EBS удаляется            |
| Деньги за compute не списываются | Ресурс полностью уничтожается |

**Скрин:** CloudShell + успешная остановка.

---

# **5. Список использованных источников**

1. AWS Documentation — [https://docs.aws.amazon.com](https://docs.aws.amazon.com)
2. Руководство Amazon EC2 — [https://docs.aws.amazon.com/ec2/](https://docs.aws.amazon.com/ec2/)
3. Учебные материалы по AWS (предоставленные преподавателем)

---

# **6. Вывод**

В ходе лабораторной работы я:

* Создала IAM-пользователя и группу.
* Настроила бюджет для защиты от расходов.
* Запустила виртуальную машину EC2 и автоматически настроила её через User Data.
* Установила и проверила работу веб-сервера Nginx.
* Подключилась по SSH с использованием ключей.
* Развернула статический сайт и сайт на PHP.
* Освоила работу с CloudWatch и логами.
* Остановила EC2 через командную строку.

Получены ключевые навыки по работе с AWS, достаточные для развёртывания базового веб-приложения в облаке.

---

Если хочешь — я могу:

✅ собрать тебе **готовый PDF**
или
✅ оформить всё в **README.md** с моим дизайном
или
✅ добавить твои скриншоты прямо в отчёт

Скажи, какой вариант нужен?
